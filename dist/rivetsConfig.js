// Generated by CoffeeScript 1.6.1
var cfg, k, publishers, v, _ref;

cfg = {
  preloadData: true,
  formatters: {
    exists: function(v) {
      return v != null;
    },
    empty: function(v) {
      return !((v != null) && (v != null ? v.length : void 0) !== 0);
    },
    date: function(v) {
      return moment(v).format('MMM DD, YYYY');
    },
    money: function(v) {
      return accounting.formatMoney(v);
    },
    toNumber: function(v) {
      return +v;
    },
    toString: function(v) {
      return String(v);
    },
    negate: function(v) {
      return !v;
    },
    is: function(v, a) {
      return v === a;
    },
    isnt: function(v, a) {
      return v !== a;
    },
    gt: function(v, a) {
      return v > a;
    },
    lt: function(v, a) {
      return v < a;
    },
    at: function(v, a) {
      return v[parseInt(a)];
    },
    join: function(v, a) {
      return v.join(a);
    },
    split: function(v, a) {
      return v.split(a);
    },
    prepend: function(v, a) {
      return a + v;
    },
    append: function(v, a) {
      return v + a;
    },
    length: function(v) {
      return v.length;
    },
    cancelEvent: function(v) {
      return function(e) {
        e.preventDefault();
        v.call(this, e);
        return false;
      };
    }
  },
  adapter: {
    subscribe: function(obj, kp, cb) {
      obj.on("change:" + kp, cb);
    },
    unsubscribe: function(obj, kp, cb) {
      obj.removeListener("change:" + kp, cb);
    },
    read: function(obj, kp) {
      return obj.get(kp);
    },
    publish: function(obj, kp, val) {
      obj.set(kp, val);
    }
  }
};

publishers = ["toNumber", "toString"];

_ref = cfg.formatters;
for (k in _ref) {
  v = _ref[k];
  if (publishers.indexOf(k) !== -1) {
    v.publish = v.read = v;
  }
}

module.exports = cfg;
