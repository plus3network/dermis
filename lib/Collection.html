<!DOCTYPE html>
<html>
<head>
  <title>Collection</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../style.css" />
  <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/1.8.0/jquery-1.8.0.min.js'></script>
</head>
<body>
  <div id="area">
    <div class='file-header'>
              <a href="https://github.com/wearefractal/dermis/blob/master/lib/Collection.coffee">
          <strong title='lib/Collection.coffee'>Collection.coffee</strong>
          <small>View source</small>
        </a>
          </div>

    <table cellpadding="0" cellspacing="0" class="extension-coffee">
      <thead>
        <tr>
          <th class="docs">
          </th>
          <th class="code">
          </th>
        </tr>
      </thead>
      <tbody>
                                      
          <tr id="section-0" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-0">&#182;</a>
              </div>
                          </td>
            <td class="code">
              <div class="highlight"><pre><span class="nv">Emitter = </span><span class="nx">require</span> <span class="s">&#39;emitter&#39;</span>
<span class="nv">rivets = </span><span class="nx">require</span> <span class="s">&#39;rivets&#39;</span>
<span class="nv">rivetsConfig = </span><span class="nx">require</span> <span class="s">&#39;./rivetsConfig&#39;</span>
<span class="nv">Model = </span><span class="nx">require</span> <span class="s">&#39;./Model&#39;</span></pre></div>            </td>
          </tr>
                                      
          <tr id="Collection" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#Collection">&#182;</a>
              </div>
              <h1>Collection</h1>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-2" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>Collections are like standard arrays but with a punch.</p>

<p>With dermis collections you can observe, cast, sync, and use a set of utility functions to speed up your development.</p>

<p>Collections are also <a href="Model.html">Model</a>s so you can do all of the standard <a href="Model.html">Model</a> stuff on it too. See the <a href="Model.html">Model documentation</a> for more details.</p>

<p>You can create a simple collection by doing <code>new dermis.Collection()</code></p>

<p>To extend or create a custom collection see the <a href="../manual/Extending.html">Extending documentation</a></p>            </td>
            <td class="code">
              <div class="highlight"><pre><span class="k">class</span> <span class="nx">Collection</span> <span class="k">extends</span> <span class="nx">Model</span>
  <span class="vi">@_isCollection: </span><span class="kc">true</span>
  <span class="nv">_isCollection: </span><span class="kc">true</span></pre></div>            </td>
          </tr>
                                      
          <tr id="constructor-items" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#constructor-items">&#182;</a>
              </div>
              <h3>constructor(items)</h3>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-4" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>Creates a new Collection</p>

<p>items array is optional but if given it will .add() them</p>            </td>
            <td class="code">
              <div class="highlight"><pre>  <span class="nv">constructor: </span><span class="nf">(items) -&gt;</span>
    <span class="k">super</span>
    <span class="nx">@set</span> <span class="s">&#39;models&#39;</span><span class="p">,</span> <span class="p">[]</span> <span class="k">unless</span> <span class="nx">@has</span> <span class="s">&#39;models&#39;</span>
    <span class="nx">@add</span> <span class="nx">items</span> <span class="k">if</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span> <span class="nx">items</span></pre></div>            </td>
          </tr>
                                      
          <tr id="model" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#model">&#182;</a>
              </div>
              <h3>model</h3>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-6" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>Settings this to a <a href="Model.html">Model</a> will cast all objects added to the given model.</p>            </td>
            <td class="code">
              <div class="highlight"><pre>  <span class="nv">model: </span><span class="kc">null</span></pre></div>            </td>
          </tr>
                                      
          <tr id="add-toAdd-silent-false" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#add-toAdd-silent-false">&#182;</a>
              </div>
              <h3>add(toAdd, silent=false)</h3>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-8" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p>Adds the given object to the collection. toAdd can also be an array of objects.</p>

<p>Will emit <code>change:models</code> and <code>add</code> events unless silent is true</p>

<p>Will cast object to a <a href="Model.html">Model</a> if the collection has a model property.</p>

<p>Returns the collection for chaining purposes.</p>            </td>
            <td class="code">
              <div class="highlight"><pre>  <span class="nv">add: </span><span class="nf">(o, silent) -&gt;</span>
    <span class="k">if</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span> <span class="nx">o</span>
      <span class="nx">@add</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">silent</span> <span class="k">for</span> <span class="nx">i</span> <span class="k">in</span> <span class="nx">o</span>
      <span class="k">return</span> <span class="nx">@</span>

    <span class="nv">mod = </span><span class="nx">@_processModel</span> <span class="nx">o</span>
    <span class="nx">@get</span><span class="p">(</span><span class="s">&#39;models&#39;</span><span class="p">).</span><span class="nx">push</span> <span class="nx">mod</span>
    <span class="nx">@set</span> <span class="s">&#39;models&#39;</span><span class="p">,</span> <span class="nx">@get</span><span class="p">(</span><span class="s">&#39;models&#39;</span><span class="p">),</span> <span class="nx">silent</span>
    <span class="k">unless</span> <span class="nx">silent</span>
      <span class="nx">@emit</span> <span class="s">&quot;add&quot;</span><span class="p">,</span> <span class="nx">mod</span>
    <span class="k">return</span> <span class="nx">@</span></pre></div>            </td>
          </tr>
                                      
          <tr id="remove-toRemove-silent-false" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#remove-toRemove-silent-false">&#182;</a>
              </div>
              <h3>remove(toRemove, silent=false)</h3>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-10" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p>Removes the given object from the collection. toRemove can also be an array of objects.</p>

<p>Will emit <code>change:models</code> and <code>remove</code> events unless silent is true</p>

<p>Returns the collection for chaining purposes.</p>            </td>
            <td class="code">
              <div class="highlight"><pre>  <span class="nv">remove: </span><span class="nf">(o, silent) -&gt;</span>
    <span class="k">if</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span> <span class="nx">o</span>
      <span class="nx">@remove</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">silent</span> <span class="k">for</span> <span class="nx">i</span> <span class="k">in</span> <span class="nx">o</span>
      <span class="k">return</span> <span class="nx">@</span>
    <span class="nv">idx = </span><span class="nx">@indexOf</span> <span class="nx">o</span>
    <span class="k">if</span> <span class="nx">idx</span> <span class="o">isnt</span> <span class="o">-</span><span class="mi">1</span>
      <span class="nx">@get</span><span class="p">(</span><span class="s">&#39;models&#39;</span><span class="p">).</span><span class="nx">splice</span> <span class="nx">idx</span><span class="p">,</span> <span class="mi">1</span>
      <span class="nx">@set</span> <span class="s">&#39;models&#39;</span><span class="p">,</span> <span class="nx">@get</span><span class="p">(</span><span class="s">&#39;models&#39;</span><span class="p">),</span> <span class="nx">silent</span>
      <span class="k">unless</span> <span class="nx">silent</span>
        <span class="nx">@emit</span> <span class="s">&quot;remove&quot;</span><span class="p">,</span> <span class="nx">o</span>
    <span class="k">return</span> <span class="nx">@</span></pre></div>            </td>
          </tr>
                                      
          <tr id="removeAt-index-silent-false" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#removeAt-index-silent-false">&#182;</a>
              </div>
              <h3>removeAt(index, silent=false)</h3>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-12" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <p>Removes the object at the given index from the collection.</p>

<p>Will emit <code>change:models</code> and <code>remove</code> events unless silent is true</p>

<p>Returns the collection for chaining purposes.</p>            </td>
            <td class="code">
              <div class="highlight"><pre>  <span class="nv">removeAt: </span><span class="nf">(idx, silent) -&gt;</span>
    <span class="nx">@remove</span> <span class="nx">@at</span><span class="p">(</span><span class="nx">idx</span><span class="p">),</span> <span class="nx">silent</span></pre></div>            </td>
          </tr>
                                      
          <tr id="replace-toReplace-obj-silent-false" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#replace-toReplace-obj-silent-false">&#182;</a>
              </div>
              <h3>replace(toReplace, obj, silent=false)</h3>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-14" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <p>Replaces toReplace with obj in the collection</p>

<p>Will emit <code>change:models</code> event unless silent is true</p>

<p>Returns the collection for chaining purposes.</p>            </td>
            <td class="code">
              <div class="highlight"><pre>  <span class="nv">replace: </span><span class="nf">(o, nu, silent) -&gt;</span>
    <span class="nv">idx = </span><span class="nx">@indexOf</span> <span class="nx">o</span>
    <span class="k">if</span> <span class="nx">idx</span> <span class="o">isnt</span> <span class="o">-</span><span class="mi">1</span>
      <span class="nx">@replaceAt</span> <span class="nx">idx</span><span class="p">,</span> <span class="nx">nu</span><span class="p">,</span> <span class="nx">silent</span>
    <span class="k">return</span> <span class="nx">@</span></pre></div>            </td>
          </tr>
                                      
          <tr id="replaceAt-index-obj-silent-false" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#replaceAt-index-obj-silent-false">&#182;</a>
              </div>
              <h3>replaceAt(index, obj, silent=false)</h3>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-16" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              <p>Replaces the object at the given index with the provided object.</p>

<p>Will emit <code>change:models</code> unless silent is true</p>

<p>Returns the collection for chaining purposes.</p>            </td>
            <td class="code">
              <div class="highlight"><pre>  <span class="nv">replaceAt: </span><span class="nf">(idx, nu, silent) -&gt;</span>
    <span class="nv">mods = </span><span class="nx">@get</span> <span class="s">&#39;models&#39;</span>
    <span class="nx">mods</span><span class="p">[</span><span class="nx">idx</span><span class="p">]</span> <span class="o">=</span> <span class="nx">@_processModel</span> <span class="nx">nu</span>
    <span class="nx">@set</span> <span class="s">&#39;models&#39;</span><span class="p">,</span> <span class="nx">mods</span><span class="p">,</span> <span class="nx">silent</span>
    <span class="k">return</span> <span class="nx">@</span></pre></div>            </td>
          </tr>
                                      
          <tr id="reset-newItems-silent-false" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#reset-newItems-silent-false">&#182;</a>
              </div>
              <h3>reset(newItems, silent=false)</h3>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-18" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-18">&#182;</a>
              </div>
              <p>Removes all items from the collection.</p>

<p>Will add newItems to the collection if given. newItems can be an object or array of objects.</p>

<p>Will emit <code>change:models</code> and <code>reset</code> events unless silent is true</p>

<p>Returns the collection for chaining purposes.</p>            </td>
            <td class="code">
              <div class="highlight"><pre>  <span class="nv">reset: </span><span class="nf">(o, silent) -&gt;</span>
    <span class="k">if</span> <span class="k">typeof</span> <span class="nx">o</span> <span class="o">is</span> <span class="s">&#39;boolean&#39;</span>
      <span class="nv">silent = </span><span class="nx">o</span>
      <span class="nv">o = </span><span class="kc">null</span>

    <span class="k">if</span> <span class="nx">o</span>
      <span class="nx">@set</span> <span class="s">&#39;models&#39;</span><span class="p">,</span> <span class="p">[],</span> <span class="kc">true</span>
      <span class="nx">@add</span> <span class="nx">o</span><span class="p">,</span> <span class="nx">silent</span>
    <span class="k">else</span>
      <span class="nx">@set</span> <span class="s">&#39;models&#39;</span><span class="p">,</span> <span class="p">[],</span> <span class="nx">silent</span>
    <span class="nx">@emit</span> <span class="s">&quot;reset&quot;</span> <span class="k">unless</span> <span class="nx">silent</span>
    <span class="k">return</span> <span class="nx">@</span></pre></div>            </td>
          </tr>
                                      
          <tr id="indexOf-object" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#indexOf-object">&#182;</a>
              </div>
              <h3>indexOf(object)</h3>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-20" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-20">&#182;</a>
              </div>
              <p>Returns the index of the given object in the collection.</p>            </td>
            <td class="code">
              <div class="highlight"><pre>  <span class="nv">indexOf: </span><span class="nf">(o) -&gt;</span> <span class="nx">@get</span><span class="p">(</span><span class="s">&#39;models&#39;</span><span class="p">).</span><span class="nx">indexOf</span> <span class="nx">o</span></pre></div>            </td>
          </tr>
                                      
          <tr id="at-index" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#at-index">&#182;</a>
              </div>
              <h3>at(index)</h3>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-22" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-22">&#182;</a>
              </div>
              <p>Returns the value at the given index in the collection.</p>            </td>
            <td class="code">
              <div class="highlight"><pre>  <span class="nv">at: </span><span class="nf">(idx) -&gt;</span> <span class="nx">@get</span><span class="p">(</span><span class="s">&#39;models&#39;</span><span class="p">)[</span><span class="nx">idx</span><span class="p">]</span></pre></div>            </td>
          </tr>
                                      
          <tr id="first" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#first">&#182;</a>
              </div>
              <h3>first()</h3>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-24" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-24">&#182;</a>
              </div>
              <p>Returns the first value in the collection.</p>            </td>
            <td class="code">
              <div class="highlight"><pre>  <span class="nv">first: </span><span class="nf">-&gt;</span> <span class="nx">@at</span> <span class="mi">0</span></pre></div>            </td>
          </tr>
                                      
          <tr id="last" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#last">&#182;</a>
              </div>
              <h3>last()</h3>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-26" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-26">&#182;</a>
              </div>
              <p>Returns the last value in the collection.</p>            </td>
            <td class="code">
              <div class="highlight"><pre>  
  <span class="nv">last: </span><span class="nf">-&gt;</span> <span class="nx">@at</span> <span class="nx">@size</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span></pre></div>            </td>
          </tr>
                                      
          <tr id="size" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#size">&#182;</a>
              </div>
              <h3>size()</h3>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-28" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-28">&#182;</a>
              </div>
              <p>Returns the number of items in the collection.</p>            </td>
            <td class="code">
              <div class="highlight"><pre>  <span class="nv">size: </span><span class="nf">-&gt;</span> <span class="nx">@get</span><span class="p">(</span><span class="s">&#39;models&#39;</span><span class="p">).</span><span class="nx">length</span></pre></div>            </td>
          </tr>
                                      
          <tr id="each-fn" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#each-fn">&#182;</a>
              </div>
              <h3>each(fn)</h3>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-30" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-30">&#182;</a>
              </div>
              <p>Executes the given function on each item in the collection.</p>

<p>Returns the collection for chaining purposes.</p>            </td>
            <td class="code">
              <div class="highlight"><pre>  <span class="nv">each: </span><span class="nf">(fn) -&gt;</span>
    <span class="nx">@get</span><span class="p">(</span><span class="s">&#39;models&#39;</span><span class="p">).</span><span class="nx">forEach</span> <span class="nx">fn</span>
    <span class="k">return</span> <span class="nx">@</span></pre></div>            </td>
          </tr>
                                      
          <tr id="map-fn" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#map-fn">&#182;</a>
              </div>
              <h3>map(fn)</h3>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-32" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-32">&#182;</a>
              </div>
              <p>Executes the given transformation function on each item in the collection.</p>

<p>Returns a new array of values that have been passed through the transformation function.</p>            </td>
            <td class="code">
              <div class="highlight"><pre>  <span class="nv">map: </span><span class="nf">(fn) -&gt;</span> 
    <span class="nx">@get</span><span class="p">(</span><span class="s">&#39;models&#39;</span><span class="p">).</span><span class="nx">map</span> <span class="nx">fn</span></pre></div>            </td>
          </tr>
                                      
          <tr id="filter-fn" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#filter-fn">&#182;</a>
              </div>
              <h3>filter(fn)</h3>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-34" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-34">&#182;</a>
              </div>
              <p>Executes the given truth test function on each item in the collection.</p>

<p>Returns an array of all the values that pass the truth test.</p>            </td>
            <td class="code">
              <div class="highlight"><pre>  <span class="nv">filter: </span><span class="nf">(fn) -&gt;</span> 
    <span class="nx">@get</span><span class="p">(</span><span class="s">&#39;models&#39;</span><span class="p">).</span><span class="nx">filter</span> <span class="nx">fn</span></pre></div>            </td>
          </tr>
                                      
          <tr id="where-object-raw-false" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#where-object-raw-false">&#182;</a>
              </div>
              <h3>where(object, raw=false)</h3>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-36" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-36">&#182;</a>
              </div>
              <p>Iterates through the list and finds each value that contain all of the key-value pairs in object.</p>

<p>Specify <code>raw=true</code> if the items in the collection are <a href="Model.html">Model</a>s but you do not want to use .get().</p>

<p>Returns an array of values that pass the truth test.</p>            </td>
            <td class="code">
              <div class="highlight"><pre>  <span class="nv">where: </span><span class="nf">(obj, raw) -&gt;</span>
    <span class="nx">@filter</span> <span class="nf">(item) -&gt;</span>
      <span class="k">for</span> <span class="k">own</span> <span class="nx">k</span><span class="p">,</span><span class="nx">v</span> <span class="k">of</span> <span class="nx">obj</span>
        <span class="k">if</span> <span class="nx">item</span> <span class="k">instanceof</span> <span class="nx">Model</span> <span class="o">and</span> <span class="o">!</span><span class="nx">raw</span>
          <span class="k">return</span> <span class="kc">false</span> <span class="k">if</span> <span class="nx">item</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">k</span><span class="p">)</span> <span class="o">isnt</span> <span class="nx">v</span>
        <span class="k">else</span>
          <span class="k">return</span> <span class="kc">false</span> <span class="k">if</span> <span class="nx">item</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span> <span class="o">isnt</span> <span class="nx">v</span>
      <span class="k">return</span> <span class="kc">true</span></pre></div>            </td>
          </tr>
                                      
          <tr id="pluck-attribute-raw-false" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#pluck-attribute-raw-false">&#182;</a>
              </div>
              <h3>pluck(attribute, raw=false)</h3>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-38" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-38">&#182;</a>
              </div>
              <p>Specify <code>raw=true</code> if the items in the collection are <a href="Model.html">Model</a>s but you do not want to use .get().</p>

<p>Returns an array of values that have been grabbed as properties of each item in the collection.</p>            </td>
            <td class="code">
              <div class="highlight"><pre>  <span class="nv">pluck: </span><span class="nf">(attr, raw) -&gt;</span> 
    <span class="nx">@map</span> <span class="nf">(v) -&gt;</span>
      <span class="k">if</span> <span class="nx">v</span> <span class="k">instanceof</span> <span class="nx">Model</span> <span class="o">and</span> <span class="o">!</span><span class="nx">raw</span>
        <span class="k">return</span> <span class="nx">v</span><span class="p">.</span><span class="nx">get</span> <span class="nx">attr</span>
      <span class="k">else</span>
        <span class="k">return</span> <span class="nx">v</span><span class="p">[</span><span class="nx">attr</span><span class="p">]</span></pre></div>            </td>
          </tr>
                                      
          <tr id="getAll" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#getAll">&#182;</a>
              </div>
              <h3>getAll()</h3>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-40" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-40">&#182;</a>
              </div>
              <p>Returns an array of all items in the collection.</p>            </td>
            <td class="code">
              <div class="highlight"><pre>  
  <span class="nv">getAll: </span><span class="nf">-&gt;</span> <span class="nx">@get</span> <span class="s">&#39;models&#39;</span></pre></div>            </td>
          </tr>
                                      
          <tr id="fetch-options-callback" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#fetch-options-callback">&#182;</a>
              </div>
              <h3>fetch(options, callback)</h3>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-42" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-42">&#182;</a>
              </div>
              <p>See <a href="../manual/Syncing.html">Syncing documentation</a> for possible options.</p>

<p>callback is optional and will be called with <code>(error, response)</code> if given.</p>

<p>Will emit fetching, fetched, and fetchError events.</p>

<p>Will use either collection.url or collection.urls.read for request</p>

<p>Returns collection for chaining purposes</p>            </td>
            <td class="code">
              <div class="highlight"><pre>  
  <span class="nv">fetch: </span><span class="nf">(opt, cb) -&gt;</span>
    <span class="k">if</span> <span class="k">typeof</span> <span class="nx">opt</span> <span class="o">is</span> <span class="s">&#39;function&#39;</span> <span class="o">and</span> <span class="o">!</span><span class="nx">cb</span>
      <span class="nv">cb = </span><span class="nx">opt</span>
      <span class="nv">opt = </span><span class="p">{}</span>
    <span class="nx">@emit</span> <span class="s">&quot;fetching&quot;</span><span class="p">,</span> <span class="nx">opt</span>
    <span class="nx">@sync</span> <span class="s">&#39;read&#39;</span><span class="p">,</span> <span class="nx">@</span><span class="p">,</span> <span class="nx">opt</span><span class="p">,</span> <span class="nf">(err, res) =&gt;</span>
      <span class="k">if</span> <span class="nx">err</span><span class="o">?</span>
        <span class="nx">@emit</span> <span class="s">&quot;fetchError&quot;</span><span class="p">,</span> <span class="nx">err</span>
        <span class="nx">cb</span> <span class="nx">err</span> <span class="k">if</span> <span class="nx">cb</span>
        <span class="k">return</span>
      <span class="nx">@reset</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span> <span class="k">if</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span>
      <span class="vi">@_fetched = </span><span class="kc">true</span>
      <span class="nx">@emit</span> <span class="s">&quot;fetched&quot;</span><span class="p">,</span> <span class="nx">res</span>
      <span class="nx">cb</span> <span class="nx">err</span><span class="p">,</span> <span class="nx">res</span> <span class="k">if</span> <span class="nx">cb</span>
    <span class="k">return</span> <span class="nx">@</span>

  <span class="nv">_processModel: </span><span class="nf">(o) -&gt;</span>
    <span class="k">if</span> <span class="nx">@model</span> <span class="o">and</span> <span class="o">!</span><span class="p">(</span><span class="nx">o</span> <span class="k">instanceof</span> <span class="nx">Model</span><span class="p">)</span>
      <span class="nv">mod = </span><span class="k">new</span> <span class="nx">@model</span> <span class="nx">o</span>
    <span class="k">else</span>
      <span class="nv">mod = </span><span class="nx">o</span>
    <span class="k">return</span> <span class="nx">mod</span>

<span class="nv">module.exports = </span><span class="nx">Collection</span>

</pre></div>            </td>
          </tr>
              </tbody>
    </table>

    
  </div>

  <div id="sidebar">
    <div class='header search'>
      <input type='text' name='search' id='search-box' placeholder='Search...' />
    </div>

    <div class='header tabs'>
      <button class='active' data-tab='pages'>Pages</button>
      <button data-tab='files'>Files</button>
    </div>

    <div class='scroll-area'>
      <!-- .multipage here means there will be a sidebar of many pages. -->
      <div class='list pages multipage'>
                  
          <!-- Breadcrumbs -->
                                  <ul class='breadcrumbs'>
                              
                <li class='page back'>
                                  <a href='../index.html'>Introduction</a>
                                          </ul>
          
          <!-- The page and its headings -->
          <ul class='current-page'>
                        
            <li class='page level-0'>
              <a href='#'>Collection</a>
                              <ul>
                                                                              <li class='heading level-3'>
                      <a href="#constructor-items">
                        constructor(items)                      </a>
                    </li>
                                                                              <li class='heading level-3'>
                      <a href="#model">
                        model                      </a>
                    </li>
                                                                              <li class='heading level-3'>
                      <a href="#add-toAdd-silent-false">
                        add(toAdd, silent=false)                      </a>
                    </li>
                                                                              <li class='heading level-3'>
                      <a href="#remove-toRemove-silent-false">
                        remove(toRemove, silent=false)                      </a>
                    </li>
                                                                              <li class='heading level-3'>
                      <a href="#removeAt-index-silent-false">
                        removeAt(index, silent=false)                      </a>
                    </li>
                                                                              <li class='heading level-3'>
                      <a href="#replace-toReplace-obj-silent-false">
                        replace(toReplace, obj, silent=false)                      </a>
                    </li>
                                                                              <li class='heading level-3'>
                      <a href="#replaceAt-index-obj-silent-false">
                        replaceAt(index, obj, silent=false)                      </a>
                    </li>
                                                                              <li class='heading level-3'>
                      <a href="#reset-newItems-silent-false">
                        reset(newItems, silent=false)                      </a>
                    </li>
                                                                              <li class='heading level-3'>
                      <a href="#indexOf-object">
                        indexOf(object)                      </a>
                    </li>
                                                                              <li class='heading level-3'>
                      <a href="#at-index">
                        at(index)                      </a>
                    </li>
                                                                              <li class='heading level-3'>
                      <a href="#first">
                        first()                      </a>
                    </li>
                                                                              <li class='heading level-3'>
                      <a href="#last">
                        last()                      </a>
                    </li>
                                                                              <li class='heading level-3'>
                      <a href="#size">
                        size()                      </a>
                    </li>
                                                                              <li class='heading level-3'>
                      <a href="#each-fn">
                        each(fn)                      </a>
                    </li>
                                                                              <li class='heading level-3'>
                      <a href="#map-fn">
                        map(fn)                      </a>
                    </li>
                                                                              <li class='heading level-3'>
                      <a href="#filter-fn">
                        filter(fn)                      </a>
                    </li>
                                                                              <li class='heading level-3'>
                      <a href="#where-object-raw-false">
                        where(object, raw=false)                      </a>
                    </li>
                                                                              <li class='heading level-3'>
                      <a href="#pluck-attribute-raw-false">
                        pluck(attribute, raw=false)                      </a>
                    </li>
                                                                              <li class='heading level-3'>
                      <a href="#getAll">
                        getAll()                      </a>
                    </li>
                                                                              <li class='heading level-3'>
                      <a href="#fetch-options-callback">
                        fetch(options, callback)                      </a>
                    </li>
                                  </ul>
                          </li>
          </ul>

          <ul class='reference'>

            <!-- The reference page -->
                          <li class='page has-children level-0'>
                                  <a href='../index.html'>Introduction</a>
                              </li>
            
            <!-- Subpages of the ref -->
                                                                                                                      
                <li class='page  level-1'>

                                                        <a href='../manual/Extending.html' class=''>Extending</a>
                  
                                                    </li>
                                                                                              
                <li class='page  level-1'>

                                                        <a href='../manual/Syncing.html' class=''>Syncing</a>
                  
                                                    </li>
                                                                                              
                <li class='page  level-1'>

                                                        <a href='../lib/Channel.html' class=''>Channel</a>
                  
                                                    </li>
                                                                                              
                <li class='page  level-1'>

                                                        <a href='../lib/Collection.html' class='active'>Collection</a>
                  
                                                    </li>
                                                                                              
                <li class='page  level-1'>

                                                        <a href='../lib/Layout.html' class=''>Layout</a>
                  
                                                    </li>
                                                                                              
                <li class='page  level-1'>

                                                        <a href='../lib/Model.html' class=''>Model</a>
                  
                                                    </li>
                                                                                              
                <li class='page  level-1'>

                                                        <a href='../lib/Region.html' class=''>Region</a>
                  
                                                    </li>
                                                                                              
                <li class='page  level-1'>

                                                        <a href='../lib/Router.html' class=''>Router</a>
                  
                                                    </li>
                                                                                              
                <li class='page  level-1'>

                                                        <a href='../lib/View.html' class=''>View</a>
                  
                                                    </li>
                                                                                              
                <li class='page  level-1'>

                                                        <a href='../lib/rivetsConfig.html' class=''>Binding Formatters</a>
                  
                                                    </li>
                          
          </ul>
              </div>

      <div class='list files hidden'>
        
        <ul>
                  <li class='level-1'>
                                                    <a href='../index.html#f' class='item file '>
                <i></i>
                README.md              </a>
                      </li>
                                    <li class='level-1'>
                                                    <button class='item folder expanded'>
                <i></i>
                lib              </button>
              <ul class=''>
                          <li class='level-2'>
                                                    <a href='../lib/Channel.html#f' class='item file '>
                <i></i>
                Channel.coffee              </a>
                      </li>
                                                    <li class='level-2'>
                                                    <a href='../lib/Collection.html#f' class='item file active'>
                <i></i>
                Collection.coffee              </a>
                      </li>
                                                    <li class='level-2'>
                                                    <a href='../lib/Layout.html#f' class='item file '>
                <i></i>
                Layout.coffee              </a>
                      </li>
                                                    <li class='level-2'>
                                                    <a href='../lib/Model.html#f' class='item file '>
                <i></i>
                Model.coffee              </a>
                      </li>
                                                    <li class='level-2'>
                                                    <a href='../lib/Region.html#f' class='item file '>
                <i></i>
                Region.coffee              </a>
                      </li>
                                                    <li class='level-2'>
                                                    <a href='../lib/Router.html#f' class='item file '>
                <i></i>
                Router.coffee              </a>
                      </li>
                                                    <li class='level-2'>
                                                    <a href='../lib/View.html#f' class='item file '>
                <i></i>
                View.coffee              </a>
                      </li>
                                                    <li class='level-2'>
                                                    <a href='../lib/delegate.html#f' class='item file '>
                <i></i>
                delegate.coffee              </a>
                      </li>
                                                    <li class='level-2'>
                                                    <a href='../lib/dermis.html#f' class='item file '>
                <i></i>
                dermis.coffee              </a>
                      </li>
                                                    <li class='level-2'>
                                                    <a href='../lib/makeElement.html#f' class='item file '>
                <i></i>
                makeElement.coffee              </a>
                      </li>
                                                    <li class='level-2'>
                                                    <a href='../lib/modelAdapter.html#f' class='item file '>
                <i></i>
                modelAdapter.coffee              </a>
                      </li>
                                                    <li class='level-2'>
                                                    <a href='../lib/rivetsConfig.html#f' class='item file '>
                <i></i>
                rivetsConfig.coffee              </a>
                      </li>
                                                    <li class='level-2'>
                                                    <a href='../lib/syncAdapter.html#f' class='item file '>
                <i></i>
                syncAdapter.coffee              </a>
                      </li>
                                                    <li class='level-2'>
                                                    <a href='../lib/toJSON.html#f' class='item file '>
                <i></i>
                toJSON.coffee              </a>
                      </li>
                                                    <li class='level-2'>
                                                    <a href='../lib/util.html#f' class='item file '>
                <i></i>
                util.coffee              </a>
                      </li>
                                                        </ul>
            </li>
                      </li>
                                    <li class='level-1'>
                                                    <button class='item folder '>
                <i></i>
                manual              </button>
              <ul class='hidden'>
                          <li class='level-2'>
                                                    <a href='../manual/Extending.html#f' class='item file '>
                <i></i>
                Extending.md              </a>
                      </li>
                                                    <li class='level-2'>
                                                    <a href='../manual/Syncing.html#f' class='item file '>
                <i></i>
                Syncing.md              </a>
                      </li>
                                                        </ul>
            </li>
                      </li>
                                  </ul>

      </div>
    </div>

  </div>

  <script src='../script.js'></script>
</body>
</html>
