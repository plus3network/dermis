<!DOCTYPE html>
<html>
<head>
  <title>Model</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../style.css" />
  <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/1.8.0/jquery-1.8.0.min.js'></script>
</head>
<body>
  <div id="area">
    <div class='file-header'>
              <a href="https://github.com/wearefractal/dermis/blob/master/lib/Model.coffee">
          <strong title='lib/Model.coffee'>Model.coffee</strong>
          <small>View source</small>
        </a>
          </div>

    <table cellpadding="0" cellspacing="0" class="extension-coffee">
      <thead>
        <tr>
          <th class="docs">
          </th>
          <th class="code">
          </th>
        </tr>
      </thead>
      <tbody>
                                      
          <tr id="section-0" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-0">&#182;</a>
              </div>
                          </td>
            <td class="code">
              <div class="highlight"><pre><span class="nv">rivets = </span><span class="nx">require</span> <span class="s">&#39;rivets&#39;</span>
<span class="nv">syncAdapter = </span><span class="nx">require</span> <span class="s">&#39;./syncAdapter&#39;</span>
<span class="nv">Emitter = </span><span class="nx">require</span> <span class="s">&#39;emitter&#39;</span>
<span class="nv">mpath = </span><span class="nx">require</span> <span class="s">&#39;mpath&#39;</span>
<span class="nv">adapter = </span><span class="nx">require</span> <span class="s">&#39;./modelAdapter&#39;</span>
<span class="nv">toJSON = </span><span class="nx">require</span> <span class="s">&#39;./toJSON&#39;</span></pre></div>            </td>
          </tr>
                                      
          <tr id="Model" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#Model">&#182;</a>
              </div>
              <h1>Model</h1>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-2" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>Models are like standard objects but with a punch.</p>

<p>With dermis models you can observe, sync, and use a set of utility functions to speed up your development.</p>

<p>You can create a simple model by doing <code>new dermis.Model()</code></p>

<p>To extend or create a custom model see the <a href="../manual/Extending.html">Extending documentation</a></p>            </td>
            <td class="code">
              <div class="highlight"><pre><span class="k">class</span> <span class="nx">Model</span> <span class="k">extends</span> <span class="nx">Emitter</span>
  <span class="vi">@_isModel: </span><span class="kc">true</span>
  <span class="nv">_isModel: </span><span class="kc">true</span></pre></div>            </td>
          </tr>
                                      
          <tr id="sync" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#sync">&#182;</a>
              </div>
              <h3>sync</h3>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-4" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>Override this to change the sync adapter for the model.</p>

<p>Defaults to built-in REST adapter</p>            </td>
            <td class="code">
              <div class="highlight"><pre>  <span class="nv">sync: </span><span class="nx">syncAdapter</span></pre></div>            </td>
          </tr>
                                      
          <tr id="casts" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#casts">&#182;</a>
              </div>
              <h3>casts</h3>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-6" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>An object of things to cast on .set(). Works with collections, models, and functions.</p>

<p>Example:</p>

<p><code>{casts: {dog: Pet}}</code> will cause <code>.set({name:'Tom', dog:{name:'Fido'}})</code> to do the equivalent of <code>.set({name:'Tom', dog: new Pet({name:'Fido'})})</code></p>            </td>
            <td class="code">
              <div class="highlight"><pre>  
  <span class="nv">casts: </span><span class="kc">null</span></pre></div>            </td>
          </tr>
                                      
          <tr id="accessors" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#accessors">&#182;</a>
              </div>
              <h3>accessors</h3>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-8" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p>An object of getters/setters</p>

<p>Format: <code>key :{get: function, set: function(val)}</code></p>            </td>
            <td class="code">
              <div class="highlight"><pre>  
  <span class="nv">accessors: </span><span class="kc">null</span></pre></div>            </td>
          </tr>
                                      
          <tr id="defaults" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#defaults">&#182;</a>
              </div>
              <h3>defaults</h3>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-10" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p>Default values to be .set() after .construct()</p>            </td>
            <td class="code">
              <div class="highlight"><pre>  <span class="nv">defaults: </span><span class="kc">null</span></pre></div>            </td>
          </tr>
                                      
          <tr id="format" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#format">&#182;</a>
              </div>
              <h3>format</h3>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-12" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <p>Function that formats data on fetch</p>

<p>Format: <code>function(val)</code></p>            </td>
            <td class="code">
              <div class="highlight"><pre>  
  <span class="nv">format: </span><span class="kc">null</span>

  <span class="nv">_fetched: </span><span class="kc">false</span></pre></div>            </td>
          </tr>
                                      
          <tr id="constructor-properties" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#constructor-properties">&#182;</a>
              </div>
              <h3>constructor(properties)</h3>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-14" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <p>Creates a new Model</p>

<p>properties object is optional but if given it will .set() them</p>            </td>
            <td class="code">
              <div class="highlight"><pre>  <span class="nv">constructor: </span><span class="nf">(o) -&gt;</span>
    <span class="vi">@_props = </span><span class="p">{}</span>

    <span class="nx">@casts</span> <span class="o">?=</span> <span class="p">{}</span>
    <span class="nx">@accessors</span> <span class="o">?=</span> <span class="p">{}</span>

    <span class="nx">@set</span> <span class="nx">@defaults</span> <span class="k">if</span> <span class="nx">@defaults</span><span class="o">?</span>
    <span class="nv">o = </span><span class="nx">@format</span> <span class="nx">o</span> <span class="k">if</span> <span class="nx">@format</span><span class="o">?</span>
    <span class="nx">@set</span> <span class="nx">o</span> <span class="k">unless</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span> <span class="nx">o</span> <span class="c1"># prevent us from messing up collections</span></pre></div>            </td>
          </tr>
                                      
          <tr id="get-key" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#get-key">&#182;</a>
              </div>
              <h3>get(key)</h3>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-16" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              <p>Returns the value for given key</p>            </td>
            <td class="code">
              <div class="highlight"><pre>  <span class="nv">get: </span><span class="nf">(k) -&gt;</span>
    <span class="k">return</span> <span class="nx">@accessors</span><span class="p">[</span><span class="nx">k</span><span class="p">].</span><span class="nx">get</span><span class="p">()</span> <span class="k">if</span> <span class="nx">@accessors</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span><span class="o">?</span><span class="p">.</span><span class="nx">get</span>
    <span class="k">return</span> <span class="nx">mpath</span><span class="p">.</span><span class="nx">get</span> <span class="nx">k</span><span class="p">,</span> <span class="nx">@_props</span><span class="p">,</span> <span class="nx">adapter</span><span class="p">.</span><span class="nx">get</span></pre></div>            </td>
          </tr>
                                      
          <tr id="set-key-val-silent-false" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#set-key-val-silent-false">&#182;</a>
              </div>
              <h3>set(key, val, silent=false)</h3>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-18" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-18">&#182;</a>
              </div>
              <p>Sets the value of key to val</p>

<p>Will emit <code>change:{key}</code> event unless silent is true</p>

<p>Returns the model for chaining purposes</p>            </td>
            <td class="code">
              <div class="highlight"><pre>  <span class="nv">set: </span><span class="nf">(k, v, silent) -&gt;</span>
    <span class="k">return</span> <span class="k">unless</span> <span class="nx">k</span><span class="o">?</span>
    <span class="k">if</span> <span class="k">typeof</span> <span class="nx">k</span> <span class="o">is</span> <span class="s">&#39;object&#39;</span>
      <span class="nv">silent = </span><span class="nx">v</span>
      <span class="nx">@set</span> <span class="nx">ky</span><span class="p">,</span> <span class="nx">vy</span><span class="p">,</span> <span class="nx">silent</span> <span class="k">for</span> <span class="nx">ky</span><span class="p">,</span><span class="nx">vy</span> <span class="k">of</span> <span class="nx">k</span>
      <span class="k">return</span> <span class="nx">@</span>
    <span class="k">else</span></pre></div>            </td>
          </tr>
                                      
          <tr id="section-19" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-19">&#182;</a>
              </div>
              <p>cast val</p>            </td>
            <td class="code">
              <div class="highlight"><pre>      <span class="nv">castModel = </span><span class="nx">@casts</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span>
      <span class="k">if</span> <span class="nx">castModel</span><span class="o">?</span>
        <span class="k">if</span> <span class="nx">castModel</span><span class="p">.</span><span class="nx">_isModel</span>
          <span class="nv">v = </span><span class="k">new</span> <span class="nx">castModel</span> <span class="nx">v</span>
        <span class="k">else</span>
          <span class="nv">v = </span><span class="nx">castModel</span> <span class="nx">v</span>

      <span class="k">if</span> <span class="nx">@accessors</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span><span class="o">?</span><span class="p">.</span><span class="nx">set</span>
        <span class="nx">@accessors</span><span class="p">[</span><span class="nx">k</span><span class="p">].</span><span class="nx">set</span> <span class="nx">v</span>
      <span class="k">else</span>
        <span class="nx">mpath</span><span class="p">.</span><span class="nx">set</span> <span class="nx">k</span><span class="p">,</span> <span class="nx">v</span><span class="p">,</span> <span class="nx">@_props</span><span class="p">,</span> <span class="nx">adapter</span><span class="p">.</span><span class="nx">set</span> <span class="nx">silent</span>

      <span class="k">unless</span> <span class="nx">silent</span>
        <span class="nx">@emit</span> <span class="s">&quot;change&quot;</span><span class="p">,</span> <span class="nx">k</span><span class="p">,</span> <span class="nx">v</span>
        <span class="nx">@emit</span> <span class="s">&quot;change:</span><span class="si">#{</span><span class="nx">k</span><span class="si">}</span><span class="s">&quot;</span><span class="p">,</span> <span class="nx">v</span>
      <span class="k">return</span> <span class="nx">@</span></pre></div>            </td>
          </tr>
                                      
          <tr id="clear-silent-false" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#clear-silent-false">&#182;</a>
              </div>
              <h3>clear(silent=false)</h3>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-21" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-21">&#182;</a>
              </div>
              <p>Removes all properties from the model</p>

<p>Will emit <code>remove:{key}</code> event for each property unless silent is true</p>

<p>Returns the model for chaining purposes</p>            </td>
            <td class="code">
              <div class="highlight"><pre>  <span class="nv">clear: </span><span class="nf">(silent) -&gt;</span>
    <span class="nx">@remove</span> <span class="nx">k</span><span class="p">,</span> <span class="nx">silent</span> <span class="k">for</span> <span class="k">own</span> <span class="nx">k</span><span class="p">,</span><span class="nx">v</span> <span class="k">of</span> <span class="nx">@_props</span>
    <span class="k">return</span> <span class="nx">@</span></pre></div>            </td>
          </tr>
                                      
          <tr id="has-key" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#has-key">&#182;</a>
              </div>
              <h3>has(key)</h3>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-23" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-23">&#182;</a>
              </div>
              <p>Returns true or false if the model has a property with the given name</p>            </td>
            <td class="code">
              <div class="highlight"><pre>  <span class="nv">has: </span><span class="nf">(k) -&gt;</span> <span class="nx">@get</span><span class="p">(</span><span class="nx">k</span><span class="p">)</span><span class="o">?</span></pre></div>            </td>
          </tr>
                                      
          <tr id="remove-key-silent-false" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#remove-key-silent-false">&#182;</a>
              </div>
              <h3>remove(key, silent=false)</h3>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-25" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-25">&#182;</a>
              </div>
              <p>Removes property with given name from the model</p>

<p>Will emit <code>remove:{key}</code> event unless silent is true</p>

<p>Returns the model for chaining purposes</p>            </td>
            <td class="code">
              <div class="highlight"><pre>  <span class="nv">remove: </span><span class="nf">(k, silent) -&gt;</span>
    <span class="nx">@set</span> <span class="nx">k</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="kc">true</span>
    <span class="k">unless</span> <span class="nx">silent</span>
      <span class="nx">@emit</span> <span class="s">&quot;change&quot;</span><span class="p">,</span> <span class="nx">k</span>
      <span class="nx">@emit</span> <span class="s">&quot;change:</span><span class="si">#{</span><span class="nx">k</span><span class="si">}</span><span class="s">&quot;</span>

      <span class="nx">@emit</span> <span class="s">&quot;remove&quot;</span><span class="p">,</span> <span class="nx">k</span>
      <span class="nx">@emit</span> <span class="s">&quot;remove:</span><span class="si">#{</span><span class="nx">k</span><span class="si">}</span><span class="s">&quot;</span>
    <span class="k">return</span> <span class="nx">@</span></pre></div>            </td>
          </tr>
                                      
          <tr id="toJSON" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#toJSON">&#182;</a>
              </div>
              <h3>toJSON()</h3>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-27" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-27">&#182;</a>
              </div>
              <p>Returns a standard object with all model properties</p>            </td>
            <td class="code">
              <div class="highlight"><pre>  <span class="nv">toJSON: </span><span class="nf">-&gt;</span> <span class="nx">toJSON</span> <span class="nx">@_props</span></pre></div>            </td>
          </tr>
                                      
          <tr id="fetch-options-callback" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#fetch-options-callback">&#182;</a>
              </div>
              <h3>fetch(options, callback)</h3>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-29" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-29">&#182;</a>
              </div>
              <p>See <a href="../manual/Syncing.html">Syncing documentation</a> for possible options.</p>

<p>callback is optional and will be called with <code>(error, response)</code> if given.</p>

<p>Will emit fetching, fetched, and fetchError events.</p>

<p>Will use either model.url or model.urls.read for GET request</p>

<p>Will .set() object received in response</p>

<p>Returns model for chaining purposes</p>            </td>
            <td class="code">
              <div class="highlight"><pre>  <span class="nv">fetch: </span><span class="nf">(opt, cb) -&gt;</span>
    <span class="k">if</span> <span class="k">typeof</span> <span class="nx">opt</span> <span class="o">is</span> <span class="s">&#39;function&#39;</span> <span class="o">and</span> <span class="o">!</span><span class="nx">cb</span>
      <span class="nv">cb = </span><span class="nx">opt</span>
      <span class="nv">opt = </span><span class="p">{}</span>
    <span class="nx">@emit</span> <span class="s">&quot;fetching&quot;</span><span class="p">,</span> <span class="nx">opt</span>
    <span class="nx">@sync</span> <span class="s">&#39;read&#39;</span><span class="p">,</span> <span class="nx">@</span><span class="p">,</span> <span class="nx">opt</span><span class="p">,</span> <span class="nf">(err, res) =&gt;</span>
      <span class="k">if</span> <span class="nx">err</span><span class="o">?</span>
        <span class="nx">@emit</span> <span class="s">&quot;fetchError&quot;</span><span class="p">,</span> <span class="nx">err</span>
        <span class="nx">cb</span> <span class="nx">err</span> <span class="k">if</span> <span class="nx">cb</span>
        <span class="k">return</span>

      <span class="nv">res.body = </span><span class="nx">@format</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span> <span class="k">if</span> <span class="nx">@format</span><span class="o">?</span>
      <span class="nx">@set</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span> <span class="k">if</span> <span class="k">typeof</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span> <span class="o">is</span> <span class="s">&#39;object&#39;</span>
      <span class="vi">@_fetched = </span><span class="kc">true</span>
      <span class="nx">@emit</span> <span class="s">&quot;fetched&quot;</span><span class="p">,</span> <span class="nx">res</span>
      <span class="nx">cb</span> <span class="nx">err</span><span class="p">,</span> <span class="nx">res</span> <span class="k">if</span> <span class="nx">cb</span>
    <span class="k">return</span> <span class="nx">@</span></pre></div>            </td>
          </tr>
                                      
          <tr id="save-options-callback" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#save-options-callback">&#182;</a>
              </div>
              <h3>save(options, callback)</h3>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-31" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-31">&#182;</a>
              </div>
              <p>See <a href="../manual/Syncing.html">Syncing documentation</a> for possible options.</p>

<p>callback is optional and will be called with <code>(error, response)</code> if given.</p>

<p>Will emit saving, saved, and saveError events.</p>

<p>Will use either model.url or model.urls.update for PUT request</p>

<p>Returns model for chaining purposes</p>            </td>
            <td class="code">
              <div class="highlight"><pre>  <span class="nv">save: </span><span class="nf">(opt, cb) -&gt;</span>
    <span class="k">if</span> <span class="k">typeof</span> <span class="nx">opt</span> <span class="o">is</span> <span class="s">&#39;function&#39;</span> <span class="o">and</span> <span class="o">!</span><span class="nx">cb</span>
      <span class="nv">cb = </span><span class="nx">opt</span>
      <span class="nv">opt = </span><span class="p">{}</span>
    <span class="nx">@emit</span> <span class="s">&quot;saving&quot;</span><span class="p">,</span> <span class="nx">opt</span>
    <span class="nx">@sync</span> <span class="s">&#39;update&#39;</span><span class="p">,</span> <span class="nx">@</span><span class="p">,</span> <span class="nx">opt</span><span class="p">,</span> <span class="nf">(err, res) =&gt;</span>
      <span class="k">if</span> <span class="nx">err</span><span class="o">?</span>
        <span class="nx">@emit</span> <span class="s">&quot;saveError&quot;</span><span class="p">,</span> <span class="nx">err</span>
        <span class="nx">cb</span> <span class="nx">err</span> <span class="k">if</span> <span class="nx">cb</span>
        <span class="k">return</span>
      <span class="nx">@emit</span> <span class="s">&quot;saved&quot;</span><span class="p">,</span> <span class="nx">res</span>
      <span class="nx">cb</span> <span class="nx">err</span><span class="p">,</span> <span class="nx">res</span> <span class="k">if</span> <span class="nx">cb</span>
    <span class="k">return</span> <span class="nx">@</span></pre></div>            </td>
          </tr>
                                      
          <tr id="create-options-callback" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#create-options-callback">&#182;</a>
              </div>
              <h3>create(options, callback)</h3>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-33" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-33">&#182;</a>
              </div>
              <p>See <a href="../manual/Syncing.html">Syncing documentation</a> for possible options.</p>

<p>callback is optional and will be called with <code>(error, response)</code> if given.</p>

<p>Will emit creating, created, and createError events.</p>

<p>Will use either model.url or model.urls.create for POST request</p>

<p>Returns model for chaining purposes</p>            </td>
            <td class="code">
              <div class="highlight"><pre>  <span class="nv">create: </span><span class="nf">(opt, cb) -&gt;</span>
    <span class="k">if</span> <span class="k">typeof</span> <span class="nx">opt</span> <span class="o">is</span> <span class="s">&#39;function&#39;</span> <span class="o">and</span> <span class="o">!</span><span class="nx">cb</span>
      <span class="nv">cb = </span><span class="nx">opt</span>
      <span class="nv">opt = </span><span class="p">{}</span>
    <span class="nx">@emit</span> <span class="s">&quot;creating&quot;</span><span class="p">,</span> <span class="nx">opt</span>
    <span class="nx">@sync</span> <span class="s">&#39;create&#39;</span><span class="p">,</span> <span class="nx">@</span><span class="p">,</span> <span class="nx">opt</span><span class="p">,</span> <span class="nf">(err, res) =&gt;</span>
      <span class="k">if</span> <span class="nx">err</span><span class="o">?</span>
        <span class="nx">@emit</span> <span class="s">&quot;createError&quot;</span><span class="p">,</span> <span class="nx">err</span>
        <span class="nx">cb</span> <span class="nx">err</span> <span class="k">if</span> <span class="nx">cb</span>
        <span class="k">return</span>
      <span class="nx">@emit</span> <span class="s">&quot;created&quot;</span><span class="p">,</span> <span class="nx">res</span>
      <span class="nx">cb</span> <span class="nx">err</span><span class="p">,</span> <span class="nx">res</span> <span class="k">if</span> <span class="nx">cb</span>
    <span class="k">return</span> <span class="nx">@</span></pre></div>            </td>
          </tr>
                                      
          <tr id="destroy-options-callback" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#destroy-options-callback">&#182;</a>
              </div>
              <h3>destroy(options, callback)</h3>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-35" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-35">&#182;</a>
              </div>
              <p>See <a href="../manual/Syncing.html">Syncing documentation</a> for possible options.</p>

<p>callback is optional and will be called with <code>(error, response)</code> if given.</p>

<p>Will emit destroying, destroyed, and destroyError events.</p>

<p>Will use either model.url or model.urls.create for DELETE request</p>

<p>Returns model for chaining purposes</p>            </td>
            <td class="code">
              <div class="highlight"><pre>  <span class="nv">destroy: </span><span class="nf">(opt, cb) -&gt;</span>
    <span class="k">if</span> <span class="k">typeof</span> <span class="nx">opt</span> <span class="o">is</span> <span class="s">&#39;function&#39;</span> <span class="o">and</span> <span class="o">!</span><span class="nx">cb</span>
      <span class="nv">cb = </span><span class="nx">opt</span>
      <span class="nv">opt = </span><span class="p">{}</span>
    <span class="nx">@emit</span> <span class="s">&quot;destroying&quot;</span><span class="p">,</span> <span class="nx">opt</span>
    <span class="nx">@sync</span> <span class="s">&#39;destroy&#39;</span><span class="p">,</span> <span class="nx">@</span><span class="p">,</span> <span class="nx">opt</span><span class="p">,</span> <span class="nf">(err, res) =&gt;</span>
      <span class="k">if</span> <span class="nx">err</span><span class="o">?</span>
        <span class="nx">@emit</span> <span class="s">&quot;destroyError&quot;</span><span class="p">,</span> <span class="nx">err</span>
        <span class="nx">cb</span> <span class="nx">err</span> <span class="k">if</span> <span class="nx">cb</span>
        <span class="k">return</span>
      <span class="nx">@emit</span> <span class="s">&quot;destroyed&quot;</span><span class="p">,</span> <span class="nx">res</span>
      <span class="nx">cb</span> <span class="nx">err</span><span class="p">,</span> <span class="nx">res</span> <span class="k">if</span> <span class="nx">cb</span>
    <span class="k">return</span> <span class="nx">@</span></pre></div>            </td>
          </tr>
                                      
          <tr id="fetched-fn" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#fetched-fn">&#182;</a>
              </div>
              <h3>fetched(fn)</h3>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-37" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-37">&#182;</a>
              </div>
              <p>Calls given function when model has fetched or if it has already. Kind of like domReady for your model.</p>

<p>Returns model for chaining purposes</p>            </td>
            <td class="code">
              <div class="highlight"><pre>  
  <span class="nv">fetched: </span><span class="nf">(cb) -&gt;</span>
    <span class="k">if</span> <span class="nx">@_fetched</span>
      <span class="nx">cb</span><span class="p">()</span>
    <span class="k">else</span>
      <span class="nx">@once</span> <span class="s">&quot;fetched&quot;</span><span class="p">,</span> <span class="nx">cb</span>
    <span class="k">return</span> <span class="nx">@</span></pre></div>            </td>
          </tr>
                                      
          <tr id="bind-el" class="heading">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#bind-el">&#182;</a>
              </div>
              <h3>bind(el)</h3>            </td>
            <td class="code">
                          </td>
          </tr>
                                      
          <tr id="section-39" class="">
            <td class="docs">
              <div class="pilwrap">
                <a class="pilcrow" href="#section-39">&#182;</a>
              </div>
              <p>Binds model properties to a DOM element using dermis data binding.</p>

<p>See <a href="../manual/Binding.html">Binding documentation</a> for more information.</p>

<p>Returns model for chaining purposes</p>            </td>
            <td class="code">
              <div class="highlight"><pre>  
  <span class="nv">bind: </span><span class="nf">(el) -&gt;</span>
    <span class="nx">rivets</span><span class="p">.</span><span class="nx">bind</span> <span class="nx">el</span><span class="p">,</span> <span class="nx">@</span>
    <span class="k">return</span> <span class="nx">@</span>

<span class="nv">module.exports = </span><span class="nx">Model</span>

</pre></div>            </td>
          </tr>
              </tbody>
    </table>

    
  </div>

  <div id="sidebar">
    <div class='header search'>
      <input type='text' name='search' id='search-box' placeholder='Search...' />
    </div>

    <div class='header tabs'>
      <button class='active' data-tab='pages'>Pages</button>
      <button data-tab='files'>Files</button>
    </div>

    <div class='scroll-area'>
      <!-- .multipage here means there will be a sidebar of many pages. -->
      <div class='list pages multipage'>
                  
          <!-- Breadcrumbs -->
                                  <ul class='breadcrumbs'>
                              
                <li class='page back'>
                                  <a href='../index.html'>Introduction</a>
                                          </ul>
          
          <!-- The page and its headings -->
          <ul class='current-page'>
                        
            <li class='page level-0'>
              <a href='#'>Model</a>
                              <ul>
                                                                              <li class='heading level-3'>
                      <a href="#sync">
                        sync                      </a>
                    </li>
                                                                              <li class='heading level-3'>
                      <a href="#casts">
                        casts                      </a>
                    </li>
                                                                              <li class='heading level-3'>
                      <a href="#accessors">
                        accessors                      </a>
                    </li>
                                                                              <li class='heading level-3'>
                      <a href="#defaults">
                        defaults                      </a>
                    </li>
                                                                              <li class='heading level-3'>
                      <a href="#format">
                        format                      </a>
                    </li>
                                                                              <li class='heading level-3'>
                      <a href="#constructor-properties">
                        constructor(properties)                      </a>
                    </li>
                                                                              <li class='heading level-3'>
                      <a href="#get-key">
                        get(key)                      </a>
                    </li>
                                                                              <li class='heading level-3'>
                      <a href="#set-key-val-silent-false">
                        set(key, val, silent=false)                      </a>
                    </li>
                                                                              <li class='heading level-3'>
                      <a href="#clear-silent-false">
                        clear(silent=false)                      </a>
                    </li>
                                                                              <li class='heading level-3'>
                      <a href="#has-key">
                        has(key)                      </a>
                    </li>
                                                                              <li class='heading level-3'>
                      <a href="#remove-key-silent-false">
                        remove(key, silent=false)                      </a>
                    </li>
                                                                              <li class='heading level-3'>
                      <a href="#toJSON">
                        toJSON()                      </a>
                    </li>
                                                                              <li class='heading level-3'>
                      <a href="#fetch-options-callback">
                        fetch(options, callback)                      </a>
                    </li>
                                                                              <li class='heading level-3'>
                      <a href="#save-options-callback">
                        save(options, callback)                      </a>
                    </li>
                                                                              <li class='heading level-3'>
                      <a href="#create-options-callback">
                        create(options, callback)                      </a>
                    </li>
                                                                              <li class='heading level-3'>
                      <a href="#destroy-options-callback">
                        destroy(options, callback)                      </a>
                    </li>
                                                                              <li class='heading level-3'>
                      <a href="#fetched-fn">
                        fetched(fn)                      </a>
                    </li>
                                                                              <li class='heading level-3'>
                      <a href="#bind-el">
                        bind(el)                      </a>
                    </li>
                                  </ul>
                          </li>
          </ul>

          <ul class='reference'>

            <!-- The reference page -->
                          <li class='page has-children level-0'>
                                  <a href='../index.html'>Introduction</a>
                              </li>
            
            <!-- Subpages of the ref -->
                                                                                                                      
                <li class='page  level-1'>

                                                        <a href='../manual/Extending.html' class=''>Extending</a>
                  
                                                    </li>
                                                                                              
                <li class='page  level-1'>

                                                        <a href='../manual/Syncing.html' class=''>Syncing</a>
                  
                                                    </li>
                                                                                              
                <li class='page  level-1'>

                                                        <a href='../lib/Channel.html' class=''>Channel</a>
                  
                                                    </li>
                                                                                              
                <li class='page  level-1'>

                                                        <a href='../lib/Collection.html' class=''>Collection</a>
                  
                                                    </li>
                                                                                              
                <li class='page  level-1'>

                                                        <a href='../lib/Layout.html' class=''>Layout</a>
                  
                                                    </li>
                                                                                              
                <li class='page  level-1'>

                                                        <a href='../lib/Model.html' class='active'>Model</a>
                  
                                                    </li>
                                                                                              
                <li class='page  level-1'>

                                                        <a href='../lib/Region.html' class=''>Region</a>
                  
                                                    </li>
                                                                                              
                <li class='page  level-1'>

                                                        <a href='../lib/Router.html' class=''>Router</a>
                  
                                                    </li>
                                                                                              
                <li class='page  level-1'>

                                                        <a href='../lib/View.html' class=''>View</a>
                  
                                                    </li>
                                                                                              
                <li class='page  level-1'>

                                                        <a href='../lib/rivetsConfig.html' class=''>Binding Formatters</a>
                  
                                                    </li>
                          
          </ul>
              </div>

      <div class='list files hidden'>
        
        <ul>
                  <li class='level-1'>
                                                    <a href='../index.html#f' class='item file '>
                <i></i>
                README.md              </a>
                      </li>
                                    <li class='level-1'>
                                                    <button class='item folder expanded'>
                <i></i>
                lib              </button>
              <ul class=''>
                          <li class='level-2'>
                                                    <a href='../lib/Channel.html#f' class='item file '>
                <i></i>
                Channel.coffee              </a>
                      </li>
                                                    <li class='level-2'>
                                                    <a href='../lib/Collection.html#f' class='item file '>
                <i></i>
                Collection.coffee              </a>
                      </li>
                                                    <li class='level-2'>
                                                    <a href='../lib/Layout.html#f' class='item file '>
                <i></i>
                Layout.coffee              </a>
                      </li>
                                                    <li class='level-2'>
                                                    <a href='../lib/Model.html#f' class='item file active'>
                <i></i>
                Model.coffee              </a>
                      </li>
                                                    <li class='level-2'>
                                                    <a href='../lib/Region.html#f' class='item file '>
                <i></i>
                Region.coffee              </a>
                      </li>
                                                    <li class='level-2'>
                                                    <a href='../lib/Router.html#f' class='item file '>
                <i></i>
                Router.coffee              </a>
                      </li>
                                                    <li class='level-2'>
                                                    <a href='../lib/View.html#f' class='item file '>
                <i></i>
                View.coffee              </a>
                      </li>
                                                    <li class='level-2'>
                                                    <a href='../lib/delegate.html#f' class='item file '>
                <i></i>
                delegate.coffee              </a>
                      </li>
                                                    <li class='level-2'>
                                                    <a href='../lib/dermis.html#f' class='item file '>
                <i></i>
                dermis.coffee              </a>
                      </li>
                                                    <li class='level-2'>
                                                    <a href='../lib/makeElement.html#f' class='item file '>
                <i></i>
                makeElement.coffee              </a>
                      </li>
                                                    <li class='level-2'>
                                                    <a href='../lib/modelAdapter.html#f' class='item file '>
                <i></i>
                modelAdapter.coffee              </a>
                      </li>
                                                    <li class='level-2'>
                                                    <a href='../lib/rivetsConfig.html#f' class='item file '>
                <i></i>
                rivetsConfig.coffee              </a>
                      </li>
                                                    <li class='level-2'>
                                                    <a href='../lib/syncAdapter.html#f' class='item file '>
                <i></i>
                syncAdapter.coffee              </a>
                      </li>
                                                    <li class='level-2'>
                                                    <a href='../lib/toJSON.html#f' class='item file '>
                <i></i>
                toJSON.coffee              </a>
                      </li>
                                                    <li class='level-2'>
                                                    <a href='../lib/util.html#f' class='item file '>
                <i></i>
                util.coffee              </a>
                      </li>
                                                        </ul>
            </li>
                      </li>
                                    <li class='level-1'>
                                                    <button class='item folder '>
                <i></i>
                manual              </button>
              <ul class='hidden'>
                          <li class='level-2'>
                                                    <a href='../manual/Extending.html#f' class='item file '>
                <i></i>
                Extending.md              </a>
                      </li>
                                                    <li class='level-2'>
                                                    <a href='../manual/Syncing.html#f' class='item file '>
                <i></i>
                Syncing.md              </a>
                      </li>
                                                        </ul>
            </li>
                      </li>
                                  </ul>

      </div>
    </div>

  </div>

  <script src='../script.js'></script>
</body>
</html>
